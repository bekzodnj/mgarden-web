---
// VeggieShowcase.astro
const veggies = [
  "🥬",
  "🥒",
  "🧅",
  "🫜",
  "🥦",
  "🌱",
  "🍉",
  "🍈",
  "🍇",
  "🥜",
  "🫘",
  "🌰",
];

const rows = 3;
const cols = 4;

// Generate grid items
const gridItems = [];
for (let row = 0; row < rows; row++) {
  for (let col = 0; col < cols; col++) {
    gridItems.push({
      id: `${row}-${col}`,
      emoji: veggies[(row * cols + col) % veggies.length],
      row,
      col,
    });
  }
}
---

<div class="showcase-container">
  <!-- Right Side: Veggie Grid -->
  <div class="veggie-side">
    <div class="veggie-grid">
      {
        gridItems.map(({ id, emoji, row, col }) => {
          const xPos = col * 110;
          const yPos = row * 110;
          const delay = (row * cols + col) * 0.05;

          return (
            <div
              class="veggie-item"
              style={`
              left: ${xPos}px;
              top: ${yPos}px;
              animation-delay: ${delay}s;
            `}
            >
              {emoji}
            </div>
          );
        })
      }
    </div>
  </div>
</div>

<style>
  /* Right Side - Veggies */
  .veggie-side {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
  }

  .veggie-grid {
    position: relative;
    width: 440px;
    height: 330px;
  }

  .veggie-item {
    position: absolute;
    font-size: 4rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    animation: gentleFloat 4s ease-in-out infinite;
  }

  /* Hover effects - different for each veggie! */
  .veggie-item:hover {
    z-index: 10;
    filter: drop-shadow(0 8px 16px rgba(123, 193, 66, 0.4));
    transform: scale(1.3) rotate(15deg);
    animation: withoutFloat 0s forwards;
  }

  @keyframes gentleFloat {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  /* Responsive */
  @media (max-width: 1024px) {
    .content-side {
      max-width: 100%;
    }

    .veggie-grid {
      transform: scale(0.8);
    }
  }

  @media (max-width: 640px) {
    .veggie-grid {
      transform: scale(0.8);
    }

    .veggie-item {
      font-size: 3rem;
    }
  }
</style>
